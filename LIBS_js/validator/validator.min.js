function FormValidator(e,t){e&&(this.texts=$.extend({},this.texts,e)),this.settings=$.extend(!0,{},this.defaults,this.settings)}FormValidator.prototype={texts:{invalid:"Dato no es el esperado",short:"Dato demasiado corto",long:"Dato demasiado largo",checked:"Debe estar marcado",empty:"Ingrese dato obligatorio",select:"Seleccione una opcion",number_min:"Muy bajo",number_max:"Muy alto",url:"URL invalida",number:"no es un numero",email:"Direccion email no valida",email_repeat:"Direccion email no coincide",date:"Fecha invalida",password_repeat:"passwords do not match",no_match:"no match",complete:"input is not complete"},defaults:{regex:{url:/^(https?:\/\/)?([\w\d\-_]+\.+[A-Za-z]{2,})+\/?/,phone:/^\+?([0-9]|[-|' '])+$/i,numeric:/^[0-9]+$/i,alphanumeric:/^[a-zA-Z0-9]+$/i,email:{illegalChars:/[\(\)\<\>\,\;\:\\\/\"\[\]]/,filter:/^.+@.+\..{2,6}$/}},alerts:!0,classes:{item:"field",alert:"alert",bad:"bad"}},tests:{sameAsPlaceholder:function(e,t){return!e.prop("placeholder")||(t.value!=e.prop("placeholder")||this.texts.empty)},hasValue:function(e){return!!e||this.texts.empty},linked:function(e,t,a){return t==e||!e||!t||(this.texts[a+"_repeat"]||this.texts.no_match)},email:function(e,t){return!(!this.settings.regex.email.filter.test(t.value)||t.value.match(this.settings.regex.email.illegalChars))||this.texts.email},text:function(e,t){if(t.validateWords){var a=t.value.split(" ");return!(a.length<t.validateWords||!function(e){for(var t=a.length;t--;)if(a[t].length<e)return this.texts.short;return!0}(2))||this.texts.complete}if(t.lengthRange&&t.value.length<t.lengthRange[0])return this.texts.short;if(t.lengthRange&&t.lengthRange[1]&&t.value.length>t.lengthRange[1])return this.texts.long;if(t.lengthLimit&&t.lengthLimit.length){for(;t.lengthLimit.length;)if(t.lengthLimit.pop()==t.value.length)return!0;return this.texts.complete}if(t.pattern){var i,n;switch(t.pattern){case"alphanumeric":i=this.settings.regex.alphanumeric;break;case"numeric":i=this.settings.regex.numeric;break;case"phone":i=this.settings.regex.phone;break;default:i=t.pattern}try{if(n=new RegExp(i).test(t.value),t.value&&!n)return this.texts.invalid}catch(t){return console.warn(t,e[0],"regex is invalid"),this.texts.invalid}}return!0},number:function(e,t){var a=t.value;return isNaN(parseFloat(a))&&!isFinite(a)?this.texts.number:t.lengthRange&&a.length<t.lengthRange[0]?this.texts.short:t.lengthRange&&t.lengthRange[1]&&a.length>t.lengthRange[1]?this.texts.long:t.minmax[0]&&(0|a)<t.minmax[0]?this.texts.number_min:!(t.minmax[1]&&(0|a)>t.minmax[1])||this.texts.number_max},date:function(e,t){var a,i,n=t.value.split(/[-./]/g);if(e[0].valueAsNumber)return!0;for(i=n.length;i--;)if(isNaN(parseFloat(t.value))&&!isFinite(t.value))return this.texts.date;try{return(a=new Date(n[2],n[1]-1,n[0])).getMonth()+1==n[1]&&a.getDate()==n[0]||this.texts.date}catch(e){return this.texts.date}},url:function(e,t){return!!this.settings.regex.url.test(t.value)||this.texts.url},hidden:function(e,t){return t.lengthRange&&t.value.length<t.lengthRange[0]?this.texts.short:!(t.pattern&&"alphanumeric"==t.pattern&&!this.settings.regex.alphanumeric.test(t.value))||this.texts.invalid},select:function(e,t){return!!t.value||this.texts.select},checkbox:function(e,t){return!!e[0].checked||this.texts.checked}},mark:function(e,t){if(!t||!e||!e.length)return!1;var a,i=this,n=e.closest("."+this.settings.classes.item),s=n.find("."+this.settings.classes.alert);return this.settings.alerts&&(s.length?s.html(t):(a=$('<div class="'+this.settings.classes.alert+'">').html(t),n.append(a))),n.removeClass(this.settings.classes.bad),setTimeout((function(){n.addClass(i.settings.classes.bad)}),0),a},unmark:function(e){if(!e||!e.length)return console.warn('no "field" argument, null or DOM object not found'),!1;e.closest("."+this.settings.classes.item).removeClass(this.settings.classes.bad).find("."+this.settings.classes.alert).remove()},testByType:function(e,t){var a=(t=$.extend({},t)).type;return"tel"==a&&(t.pattern=t.pattern||"phone"),a&&"password"!=a&&"tel"!=a&&"search"!=a&&"file"!=a||(a="text"),!this.tests[a]||this.tests[a].call(this,e,t)},prepareFieldData:function(e){var t=e.data(),a=e[0].nodeName.toLowerCase();return t.value=e[0].value.replace(/^\s+|\s+$/g,""),t.valid=!0,t.type=e.attr("type"),t.pattern=e.attr("pattern"),"select"===a?t.type="select":"textarea"===a&&(t.type="text"),t.validateWords=t.validateWords||0,t.lengthRange=t.validateLengthRange?(t.validateLengthRange+"").split(","):[1],t.lengthLimit=!!t.validateLength&&(t.validateLength+"").split(","),t.minmax=!!t.validateMinmax&&(t.validateMinmax+"").split(","),t},keypress:function(e){var t=this,a=new $.Deferred;return setTimeout((function(){var i=$(e),n=t.prepareFieldData(i),s=t.testByType(i,n);a.resolve(s)}),0),a},checkField:function(e,t){var a=$(e);if(this.unmark(a),"hidden"!=e.type&&a.is(":hidden"))return{valid:!0,error:""};var i,n,s=a.hasClass("optional"),l=this.prepareFieldData(a),r=a.closest("form");return!0===(n=this.tests.hasValue.call(this,l.value))&&(n=this.tests.sameAsPlaceholder.call(this,a,l)),l.valid=s||!0===n,s&&!l.value?{valid:!0,error:""}:(!0!==n&&(l.valid=!1),l.valid&&(n=this.testByType(a,l),l.valid=!0===n),l.valid&&l.validateLinked&&(i=0==l.validateLinked.indexOf("#")?$(l.validateLinked):r.length?r.find(":input[name="+l.validateLinked+"]"):$(":input[name="+l.validateLinked+"]"),n=this.tests.linked.call(this,e.value,i.val(),l.type),l.valid=!0===n),t||this[l.valid?"unmark":"mark"](a,n),{valid:l.valid,error:!0===l.valid?"":n})},checkAll:function(e){if(0==(e=$(e)).length)return console.warn("element not found"),!1;var t=this,a={valid:!0,fields:[]};return e.find(":input").filter("[required=required], .required, .optional").not("[disabled=disabled]").each((function(){var e=t.checkField(this);a.valid=!!(a.valid*e.valid),a.fields.push({field:this,error:e.error,valid:!!e.valid})})),a}};